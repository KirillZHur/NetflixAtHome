<div class="page">
  <div class="top">
    <button class="back" type="button" (click)="back()">← Назад</button>

    <div class="title-wrap">
      <div class="title" *ngIf="film">{{ film.title }}</div>
      <div class="subtitle" *ngIf="film">
        <span class="chip">⭐ {{ film.imdb_rating}}</span>
        <!--<span class="chip">{{ film.type ?? 'Movie/TV Show' }}</span>
        <span class="chip">{{ film.genre ?? 'Genre' }}</span>-->
      </div>
    </div>

  </div>

  <div class="state" *ngIf="loading">Загрузка…</div>
  <div class="state error" *ngIf="!loading && error">{{ error }}</div>

  <div class="player-card" *ngIf="!loading && !error && film">
    <div class="video-wrap" [class.playing]="isPlaying">
      <video
        id="player-video"
        class="video"
        [src]="videoUrl || mockVideoUrl"
        controls
        playsinline
        (ended)="onEnded()"
      ></video>

      <div class="overlay" *ngIf="!isPlaying">
        <div class="overlay-inner">
          <div class="overlay-title">Готово к просмотру</div>
          <button class="overlay-play" type="button" (click)="play()">▶ Play</button>
        </div>
      </div>
    </div>

  </div>
</div>
